<html>
<head>
<meta charset="utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, width=device-width"/>
<title>카카오인증 테스트</title>
    
   <!--부트 스트랩 --> 
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    
    
   <!-- 네이버 api --> 
  <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>   
    
    
    <!-- 카카오 url-->
<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>    
<script>
  window.onload= function(){
     Kakao.init('d7fc30e54cf2da3c0d85200663e5d1c2');
    // 카카오 로그인 버튼을 생성합니다.
    Kakao.Auth.createLoginButton({
      container: '#kakao-login-btn',
      success: function(authObj) {
        // 로그인 성공시, API를 호출합니다.
        Kakao.API.request({
          url: '/v1/user/me',
          success: function(res) {
            alert(JSON.stringify(res));
          },
          fail: function(error) {
            alert(JSON.stringify(error));
          }
        });
      },
      fail: function(err) {
        alert(JSON.stringify(err));
      }
    });
    
    Kakao.Story.createShareButton({
      container: '#kakaostory-share-button',
      url: 'https://developers.kakao.com',
      text: '카카오 개발자 사이트로 놀러오세요! #개발자 #카카오 :)'
    });
  }
</script>    
    

</head>
<body>
    
<div class="jumbotron text-center">
  <h1>웅진 Rental Soultion 인증 API 테스트</h1>
  <p>각종 api를 이용합니다.</p> 
</div>
    
 <h2></h2>   
<p>카카오 계정으로 로그인 </p>    
<a id="kakao-login-btn"></a>

    
<br/>    
<p>카카오 스토리 공유하기</p>    
<div id="kakaostory-share-button"></div>    

<br/>
<p>네이버 로그인~~</p>
<div id="naver_id_login"></div>    
<script>

    var naver_id_login = new naver_id_login("iWOonPKbNSET8UJd3l3h", "https://leedongjoon121.github.io/Javascript_Study/");
  	var state = naver_id_login.getUniqState();
  	naver_id_login.setButton("white", 2,40);
  	naver_id_login.setDomain("https://leedongjoon121.github.io/RentalSolution/");
  	naver_id_login.setState(state);
  	naver_id_login.setPopup();
  	naver_id_login.init_naver_id_login();
   
</script>         

<!-- 페이스북 api -->    
<script>
   function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);
    // The response object is returned with a status field that lets the
    // app know the current login status of the person.
    // Full docs on the response object can be found in the documentation
    // for FB.getLoginStatus().
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else {
      // The person is not logged into your app or we are unable to tell.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    }
  } 
    
  function checkLoginState() {
  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });
} 
    
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '683189275219921',
      cookie     : true,
      xfbml      : true,
      version    : 'v2.8'
    });
 
   FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
});    
      
};

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "//connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
    
    
 function testAPI() {
    console.log('Welcome!  Fetching your information.... ');
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      document.getElementById('status').innerHTML =
        'Thanks for logging in, ' + response.name + '!';
    });
  }
    
</script>    

<br/>

<p>페이스북 로그인!</p>    
    
<fb:login-button 
  scope="public_profile,email"
  onlogin="checkLoginState();">
</fb:login-button>    
    
<div id="status">
</div>

 <div class="container">   
 <p> 페이스북 공유하기~~</p>   
 <div id="shareBtn" class="btn btn-success clearfix">Share</div>
 </div>    
<script>
document.getElementById('shareBtn').onclick = function() {
  FB.ui({
    method: 'share',
    display: 'popup',
    href: 'https://developers.facebook.com/docs/',
  }, function(response){});
}
</script>    
    
</body>
</html>
